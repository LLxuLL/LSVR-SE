{
    "skunk": {
        "name": "skunk",
        "description": "臭鼬模型的编辑配置",
        "operations": {
            "common": {
                "add": {
                    "description": "在指定方向上添加一个新的臭鼬模型",
                    "parameters": {
                        "direction": {
                            "type": "string",
                            "default": "right",
                            "options": ["left", "right", "up", "down", "front", "back"],
                            "description": "添加新模型的方向"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "copy_mesh",
                            "parameters": {
                                "mesh": "input_mesh"
                            },
                            "output": "copied_mesh"
                        },
                        {
                            "operation": "get_bounds",
                            "parameters": {
                                "mesh": "input_mesh"
                            },
                            "output": "bounds"
                        },
                        {
                            "operation": "calculate_translation_vector",
                            "parameters": {
                                "direction": "{direction}",
                                "bounds": "bounds"
                            },
                            "output": "translation"
                        },
                        {
                            "operation": "translate_mesh",
                            "parameters": {
                                "mesh": "copied_mesh",
                                "vector": "translation"
                            },
                            "output": "translated_mesh"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": ["input_mesh", "translated_mesh"]
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "rotate": {
                    "description": "围绕中心点旋转整个臭鼬模型",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 90.0,
                            "description": "旋转角度 (度)"
                        },
                        "axis": {
                            "type": "vector3d",
                            "default": [0, 1, 0],
                            "description": "旋转轴 (例如 [0, 1, 0] 表示Y轴)"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "rotate_mesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "angle": "{angle}",
                                "axis": "{axis}"
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "scale": {
                    "description": "缩放整个臭鼬模型",
                    "parameters": {
                        "factor": {
                            "type": "float",
                            "default": 1.2,
                            "description": "缩放因子"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "calculate_scale_center",
                            "parameters": {
                                "mesh": "input_mesh",
                                "center_type": "center"
                            },
                            "output": "scale_center"
                        },
                        {
                            "operation": "scale_mesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "factor": "{factor}",
                                "center": "scale_center"
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "translate": {
                    "description": "平移整个臭鼬模型",
                    "parameters": {
                        "vector": {
                            "type": "vector3d",
                            "default": [2, 0, 0],
                            "description": "平移向量"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "translate_mesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "vector": "{vector}"
                            },
                            "output": "result_mesh"
                        }
                    ]
                }
            },
            "specific": {
                "raise_tail": {
                    "description": "模拟臭鼬准备防御时，高高竖起尾巴的动作",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 85.0,
                            "description": "尾巴向上竖起的角度，通常接近90度"
                        },
                        "tail_ratio": {
                            "type": "float",
                            "default": 0.35,
                            "description": "尾部占身体总长度的比例（从模型后端算起）"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "split_mesh_by_axis",
                            "parameters": {
                                "mesh": "input_mesh",
                                "axis": "X",
                                "split_point_ratio_from_back": "{tail_ratio}"
                            },
                            "output": ["main_body", "tail_section"]
                        },
                        {
                            "operation": "calculate_pivot_point",
                            "parameters": {
                                "mesh": "tail_section",
                                "pivot_type": "edge",
                                "edge": "front"
                            },
                            "output": "pivot_point"
                        },
                        {
                            "operation": "rotate_mesh_around_pivot",
                            "parameters": {
                                "mesh": "tail_section",
                                "angle": "{angle}",
                                "axis": [0, 0, 1],
                                "pivot": "pivot_point"
                            },
                            "output": "raised_tail"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": ["main_body", "raised_tail"]
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "turn_head": {
                    "description": "模拟臭鼬左右转头观察的动作",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 30.0,
                            "description": "头部转动的角度，正数向右，负数向左"
                        },
                        "head_ratio": {
                            "type": "float",
                            "default": 0.2,
                            "description": "头部占身体总长度的比例（从模型前端算起）"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "split_mesh_by_axis",
                            "parameters": {
                                "mesh": "input_mesh",
                                "axis": "X",
                                "split_point_ratio_from_front": "{head_ratio}"
                            },
                            "output": ["head_section", "body_section"]
                        },
                        {
                            "operation": "calculate_pivot_point",
                            "parameters": {
                                "mesh": "head_section",
                                "pivot_type": "edge",
                                "edge": "back"
                            },
                            "output": "pivot_point"
                        },
                        {
                            "operation": "rotate_mesh_around_pivot",
                            "parameters": {
                                "mesh": "head_section",
                                "angle": "{angle}",
                                "axis": [0, 1, 0],
                                "pivot": "pivot_point"
                            },
                            "output": "turned_head"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": ["body_section", "turned_head"]
                            },
                            "output": "result_mesh"
                        }
                    ]
                }
            }
        }
    }
}
