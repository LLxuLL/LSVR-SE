{
    "baby": {
        "name": "baby",
        "description": "Baby model editing configuration",
        "operations": {
            "common": {
                "add": {
                    "description": "Add a new baby model instance",
                    "parameters": {
                        "direction": {
                            "type": "string",
                            "default": "right",
                            "options": [
                                "left",
                                "right",
                                "up",
                                "down",
                                "front",
                                "back"
                            ],
                            "description": "Add direction"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "copy_mesh",
                            "parameters": {
                                "mesh": "input_mesh"
                            },
                            "output": "copied_mesh"
                        },
                        {
                            "operation": "get_bounds",
                            "parameters": {
                                "mesh": "input_mesh"
                            },
                            "output": "bounds"
                        },
                        {
                            "operation": "calculate_translation_vector",
                            "parameters": {
                                "direction": "{direction}",
                                "bounds": "bounds"
                            },
                            "output": "translation"
                        },
                        {
                            "operation": "translate_mesh",
                            "parameters": {
                                "mesh": "copied_mesh",
                                "vector": "translation"
                            },
                            "output": "translated_mesh"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": [
                                    "input_mesh",
                                    "translated_mesh"
                                ]
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "rotate": {
                    "description": "Rotate the baby model",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 90.0,
                            "description": "Rotation angle in degrees"
                        },
                        "axis": {
                            "type": "string",
                            "default": "y",
                            "options": [
                                "x",
                                "y",
                                "z"
                            ],
                            "description": "Rotation axis"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "rotate_mesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "angle": "{angle}",
                                "axis": "{axis}"
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "translate": {
                    "description": "Translate the baby model",
                    "parameters": {
                        "vector": {
                            "type": "array",
                            "default": [
                                0.0,
                                0.0,
                                0.0
                            ],
                            "description": "Translation vector"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "translate_mesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "vector": "{vector}"
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "scale": {
                    "description": "Scale the baby model",
                    "parameters": {
                        "factor": {
                            "type": "float",
                            "default": 1.0,
                            "description": "Scaling factor"
                        },
                        "center": {
                            "type": "string",
                            "default": "center",
                            "options": [
                                "origin",
                                "center"
                            ],
                            "description": "Scale center"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "calculate_scale_center",
                            "parameters": {
                                "mesh": "input_mesh",
                                "center_type": "{center}"
                            },
                            "output": "scale_center"
                        },
                        {
                            "operation": "scale_mesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "factor": "{factor}",
                                "center": "scale_center"
                            },
                            "output": "result_mesh"
                        }
                    ]
                }
            },
            "specific": {
                "raise_arm": {
                    "description": "Raise the baby's arm",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 45.0,
                            "description": "Raise angle in degrees"
                        },
                        "side": {
                            "type": "string",
                            "default": "left",
                            "options": [
                                "left",
                                "right"
                            ],
                            "description": "Which arm to raise"
                        },
                        "arm_ratio": {
                            "type": "float",
                            "default": 0.2,
                            "description": "Ratio of arm in the model"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "extract_submesh_by_ratio",
                            "parameters": {
                                "mesh": "input_mesh",
                                "ratio": "{arm_ratio}",
                                "based_on": "arm_region"
                            },
                            "output": "arm_mesh"
                        },
                        {
                            "operation": "extract_inverse_submesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "reference": "arm_mesh"
                            },
                            "output": "body_mesh"
                        },
                        {
                            "operation": "calculate_pivot_point",
                            "parameters": {
                                "mesh": "arm_mesh",
                                "pivot_type": "shoulder",
                                "side": "{side}"
                            },
                            "output": "pivot_point"
                        },
                        {
                            "operation": "calculate_rotation_axis",
                            "parameters": {
                                "mesh": "arm_mesh",
                                "axis": "x"
                            },
                            "output": "rotation_axis"
                        },
                        {
                            "operation": "rotate_mesh_around_pivot",
                            "parameters": {
                                "mesh": "arm_mesh",
                                "angle": "{angle}",
                                "pivot": "pivot_point",
                                "axis": "rotation_axis"
                            },
                            "output": "raised_arm"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": [
                                    "body_mesh",
                                    "raised_arm"
                                ]
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "turn_head": {
                    "description": "Turn the baby's head",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 30.0,
                            "description": "Turn angle in degrees"
                        },
                        "direction": {
                            "type": "string",
                            "default": "left",
                            "options": [
                                "left",
                                "right"
                            ],
                            "description": "Turn direction"
                        },
                        "head_ratio": {
                            "type": "float",
                            "default": 0.15,
                            "description": "Ratio of head in the model"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "extract_submesh_by_ratio",
                            "parameters": {
                                "mesh": "input_mesh",
                                "ratio": "{head_ratio}",
                                "based_on": "head_region"
                            },
                            "output": "head_mesh"
                        },
                        {
                            "operation": "extract_inverse_submesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "reference": "head_mesh"
                            },
                            "output": "body_mesh"
                        },
                        {
                            "operation": "calculate_pivot_point",
                            "parameters": {
                                "mesh": "head_mesh",
                                "pivot_type": "neck"
                            },
                            "output": "pivot_point"
                        },
                        {
                            "operation": "calculate_rotation_axis",
                            "parameters": {
                                "mesh": "head_mesh",
                                "axis": "y"
                            },
                            "output": "rotation_axis"
                        },
                        {
                            "operation": "adjust_angle_by_direction",
                            "parameters": {
                                "angle": "{angle}",
                                "direction": "{direction}"
                            },
                            "output": "final_angle"
                        },
                        {
                            "operation": "rotate_mesh_around_pivot",
                            "parameters": {
                                "mesh": "head_mesh",
                                "angle": "final_angle",
                                "pivot": "pivot_point",
                                "axis": "rotation_axis"
                            },
                            "output": "turned_head"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": [
                                    "body_mesh",
                                    "turned_head"
                                ]
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "sit_up": {
                    "description": "Make the baby sit up",
                    "parameters": {
                        "angle": {
                            "type": "float",
                            "default": 60.0,
                            "description": "Sit up angle in degrees"
                        },
                        "torso_ratio": {
                            "type": "float",
                            "default": 0.4,
                            "description": "Ratio of torso in the model"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "split_mesh_by_axis",
                            "parameters": {
                                "mesh": "input_mesh",
                                "axis": "z",
                                "ratio": "{torso_ratio}"
                            },
                            "output": [
                                "upper_body",
                                "lower_body"
                            ]
                        },
                        {
                            "operation": "calculate_pivot_point",
                            "parameters": {
                                "mesh": "upper_body",
                                "pivot_type": "waist"
                            },
                            "output": "pivot_point"
                        },
                        {
                            "operation": "calculate_rotation_axis",
                            "parameters": {
                                "mesh": "upper_body",
                                "axis": "x"
                            },
                            "output": "rotation_axis"
                        },
                        {
                            "operation": "rotate_mesh_around_pivot",
                            "parameters": {
                                "mesh": "upper_body",
                                "angle": "{angle}",
                                "pivot": "pivot_point",
                                "axis": "rotation_axis"
                            },
                            "output": "sitting_upper"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": [
                                    "sitting_upper",
                                    "lower_body"
                                ]
                            },
                            "output": "result_mesh"
                        }
                    ]
                },
                "close_eyes": {
                    "description": "Close the baby's eyes",
                    "parameters": {
                        "eye_ratio": {
                            "type": "float",
                            "default": 0.05,
                            "description": "Ratio of eyes in the model"
                        }
                    },
                    "atomic_operations": [
                        {
                            "operation": "extract_submesh_by_ratio",
                            "parameters": {
                                "mesh": "input_mesh",
                                "ratio": "{eye_ratio}",
                                "based_on": "eye_region"
                            },
                            "output": "eyes_mesh"
                        },
                        {
                            "operation": "extract_inverse_submesh",
                            "parameters": {
                                "mesh": "input_mesh",
                                "reference": "eyes_mesh"
                            },
                            "output": "face_mesh"
                        },
                        {
                            "operation": "scale_mesh",
                            "parameters": {
                                "mesh": "eyes_mesh",
                                "factor": 0.01,
                                "center": "center"
                            },
                            "output": "closed_eyes"
                        },
                        {
                            "operation": "combine_meshes",
                            "parameters": {
                                "meshes": [
                                    "face_mesh",
                                    "closed_eyes"
                                ]
                            },
                            "output": "result_mesh"
                        }
                    ]
                }
            }
        }
    }
}
